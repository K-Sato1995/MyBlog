<%= render 'shared/nav' %>

<div class = 'container-fluid'>
  <div class = 'admin-container' id = 'admin-container'>
    <% flash.each do |key, value| %>
      <div class = "alert alert-<%= key %>"><%= value%></div>
    <% end %>
    <%= render 'shared/side_nav' %>
    <div class = 'row'>
      <!-- Content -->
      <div class="col-md-11 admin-content" id = 'admin-content'>
        <div class="card admin-card">
          <div class="card-header"><h5>Categories Table</h5></div>
          <div class="card-body">
            <!-- Table-->
            <table class="table table-striped table-hover g_table">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Name</th>
                  <th>Creaetd at</th>
                  <th>Updated at</th>
                  <th scope = 'col'>Actions</th>
                </tr>
              </thead>
              <tbody>
                <% @categories.each do |category| %>
                <tr>
                  <td><%= category.id %></td>
                  <td><%= category.name %></td>
                  <td><%= category.created_at.strftime("%Y/%m/%d") %></td>
                  <td><%= category.updated_at.strftime("%Y/%m/%d") %></td>
                  <td>
                    <%= link_to 'Edit', edit_admin_category_path(category) %>
                    <%= link_to 'Delete',admin_category_path(category), method: :delete, data: { confirm: 'Are you sure?' } %>
                  </td>
                </tr>
                <% end %>
              </tbody>
            </table>
          </div>  <!-- The end of card card-body  -->
        </div> <!-- The end of card admin-card  -->
      </div> <!-- The end of col-md-11 admin-content  -->
    </div> <!-- The end of row  -->
  </div> <!-- The end of admin-container  -->
</div> <!-- The end of content fluid  -->

<%= render 'shared/footer'%>
